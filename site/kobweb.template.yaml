metadata:
  description: "A template for a minimal site that still demonstrates the basic features of Kobweb"

instructions:
  # Note: Kobweb provides a "projectFolder" variable for us already

  - !<QueryVar>
    name: "projectName"
    prompt: "What is your project named?"
    default: "${fileToName(projectFolder)}"
    validation: "isNotEmpty"
  - !<QueryVar>
    name: "groupId"
    prompt: "What is the group ID for your project?"
    default: "com.placeholder.${fileToPackage(projectFolder)}"
    validation: "isPackage"
  - !<QueryVar>
    name: "package"
    prompt: "What package would you like to use for code in your project?"
    default: "${groupId}"
    validation: "isPackage"

  - !<ProcessFreemarker>

  - !<DefineVar>
    name: "packagePath"
    value: "${packageToPath(package)}"
  - !<Move>
    from: "src/*"
    to: "src/jsMain/kotlin/${packagePath}"
    description: "Rearranging code files to conform to the user's package"